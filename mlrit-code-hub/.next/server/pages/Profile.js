(()=>{var e={};e.id=929,e.ids=[929,660],e.modules={1323:(e,t)=>{"use strict";Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,a){return a in t?t[a]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,a)):"function"==typeof t&&"default"===a?t:void 0}}})},2335:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{config:()=>O,default:()=>m,getServerSideProps:()=>_,getStaticPaths:()=>h,getStaticProps:()=>p,reportWebVitals:()=>b,routeModule:()=>x,unstable_getServerProps:()=>S,unstable_getServerSideProps:()=>j,unstable_getStaticParams:()=>g,unstable_getStaticPaths:()=>P,unstable_getStaticProps:()=>v});var n=a(7093),s=a(5244),o=a(1323),i=a(1682),l=a.n(i),c=a(8141),d=a.n(c),u=a(3521),f=e([u]);u=(f.then?(await f)():f)[0];let m=(0,o.l)(u,"default"),p=(0,o.l)(u,"getStaticProps"),h=(0,o.l)(u,"getStaticPaths"),_=(0,o.l)(u,"getServerSideProps"),O=(0,o.l)(u,"config"),b=(0,o.l)(u,"reportWebVitals"),v=(0,o.l)(u,"unstable_getStaticProps"),P=(0,o.l)(u,"unstable_getStaticPaths"),g=(0,o.l)(u,"unstable_getStaticParams"),S=(0,o.l)(u,"unstable_getServerProps"),j=(0,o.l)(u,"unstable_getServerSideProps"),x=new n.PagesRouteModule({definition:{kind:s.x.PAGES,page:"/Profile",pathname:"/Profile",bundlePath:"",filename:""},components:{App:d(),Document:l()},userland:u});r()}catch(e){r(e)}})},8141:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let r=a(167),n=a(997),s=r._(a(6689)),o=a(5782);async function i(e){let{Component:t,ctx:a}=e;return{pageProps:await (0,o.loadGetInitialProps)(t,a)}}class l extends s.default.Component{render(){let{Component:e,pageProps:t}=this.props;return(0,n.jsx)(e,{...t})}}l.origGetInitialProps=i,l.getInitialProps=i,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2869:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(6689).createContext)()},3521:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{default:()=>c});var n=a(997),s=a(6689),o=a(9648),i=a(2869);(function(){var e=Error("Cannot find module '__barrel_optimize__?names=eachDayOfInterval,endOfWeek,format,isSameMonth,startOfWeek,subMonths!=!date-fns'");throw e.code="MODULE_NOT_FOUND",e})(),a(2070);var l=e([o]);o=(l.then?(await l)():l)[0];let c=()=>{let{user:e,setUser:t}=(0,s.useContext)(i.Z),[a,r]=(0,s.useState)({name:"",email:""}),[l,c]=(0,s.useState)(""),[d,u]=(0,s.useState)(!0),[f,m]=(0,s.useState)({});(0,s.useEffect)(()=>{e&&(r({name:e.name,email:e.email}),u(!1),p())},[e]);let p=async()=>{try{let e=localStorage.getItem("token"),t=await o.default.get("http://localhost:5000/api/submissions/last-6-months",{headers:{Authorization:`Bearer ${e}`}});m(t.data)}catch(e){console.error("Error fetching submissions data:",e)}},h=e=>e?e<=2?"#a7f3d0":e<=5?"#34d399":"#10b981":"#e5e7eb",_=async()=>{try{let e=localStorage.getItem("token"),r=await o.default.put("http://localhost:5000/api/profile",a,{headers:{Authorization:`Bearer ${e}`}});t(r.data),alert("Profile updated")}catch{alert("Update failed")}},O=async e=>{let a=e.target.files[0];if(!a)return;c(URL.createObjectURL(a));let r=new FormData;r.append("profilePic",a);try{let e=localStorage.getItem("token"),a=await o.default.post("http://localhost:5000/api/profile/upload-pic",r,{headers:{Authorization:`Bearer ${e}`}});t(e=>({...e,profilePic:a.data.url}))}catch{alert("Image upload failed")}},b=()=>{let e=new Date,t=Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=eachDayOfInterval,endOfWeek,format,isSameMonth,startOfWeek,subMonths!=!date-fns'");throw e.code="MODULE_NOT_FOUND",e}())(e,6),a=Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=eachDayOfInterval,endOfWeek,format,isSameMonth,startOfWeek,subMonths!=!date-fns'");throw e.code="MODULE_NOT_FOUND",e}())(t,{weekStartsOn:0}),r=Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=eachDayOfInterval,endOfWeek,format,isSameMonth,startOfWeek,subMonths!=!date-fns'");throw e.code="MODULE_NOT_FOUND",e}())(e,{weekStartsOn:0}),n=Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=eachDayOfInterval,endOfWeek,format,isSameMonth,startOfWeek,subMonths!=!date-fns'");throw e.code="MODULE_NOT_FOUND",e}())({start:a,end:r}),s=[];for(let e=0;e<n.length;e+=7)s.push(n.slice(e,e+7));return s};return d?n.jsx("div",{className:"profile",children:"Loading..."}):n.jsx("div",{className:"profile",children:(0,n.jsxs)("div",{className:"profile-card",children:[n.jsx("h2",{children:"\uD83D\uDC64 My Profile"}),(0,n.jsxs)("div",{className:"profile-pic",children:[n.jsx("img",{src:l||e?.profilePic&&`http://localhost:5000${e.profilePic}`||"/default-profile.png",alt:"Profile"}),n.jsx("input",{type:"file",onChange:O})]}),n.jsx("input",{type:"text",value:a.name,onChange:e=>r({...a,name:e.target.value})}),n.jsx("input",{type:"email",value:a.email,onChange:e=>r({...a,email:e.target.value})}),n.jsx("button",{onClick:_,children:"\uD83D\uDCBE Save"}),(0,n.jsxs)("div",{className:"submissions-heatmap",children:[n.jsx("h3",{children:"Submissions Heat Map (Last 6 Months)"}),(0,n.jsxs)("div",{className:"heatmap-container",children:[n.jsx("div",{className:"day-labels",children:["Mon","Wed","Fri"].map((e,t)=>n.jsx("div",{className:"day-label",children:e},t))}),(0,n.jsxs)("div",{className:"heatmap-scroll",children:[n.jsx("div",{className:"month-labels",children:b().map((e,t)=>{let a=e[0];return n.jsx("div",{className:"month-label",children:0!==t&&Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=eachDayOfInterval,endOfWeek,format,isSameMonth,startOfWeek,subMonths!=!date-fns'");throw e.code="MODULE_NOT_FOUND",e}())(a,e[6])?"":Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=eachDayOfInterval,endOfWeek,format,isSameMonth,startOfWeek,subMonths!=!date-fns'");throw e.code="MODULE_NOT_FOUND",e}())(a,"MMM")},t)})}),n.jsx("div",{className:"heatmap-grid",children:b().map((e,t)=>n.jsx("div",{className:"heatmap-column",children:e.map((e,t)=>{let a=Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=eachDayOfInterval,endOfWeek,format,isSameMonth,startOfWeek,subMonths!=!date-fns'");throw e.code="MODULE_NOT_FOUND",e}())(e,"yyyy-MM-dd"),r=f[a]||0;return n.jsx("div",{className:"heatmap-cell",title:`${a}: ${r} submissions`,style:{backgroundColor:h(r)}},t)})},t))})]})]})]})]})})};r()}catch(e){r(e)}})},2070:()=>{},5244:(e,t)=>{"use strict";var a;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return a}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(a||(a={}))},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},5315:e=>{"use strict";e.exports=require("path")},9648:e=>{"use strict";e.exports=import("axios")}};var t=require("../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[682],()=>a(2335));module.exports=r})();